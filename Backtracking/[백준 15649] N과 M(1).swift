//
//  [ë°±ì¤€ 15649] Nê³¼ M(1).swift
//  Algorithm
//
//  Created by ê¹€ë¯¼ on 1/17/24.
//
// ë°±ì¤€ 15649 Nê³¼ M(1) https://www.acmicpc.net/problem/15649

/*
[ğŸ“ ê¸°ë¡]
ë°±íŠ¸ë˜í‚¹ ìœ í˜• ê¸°ë³¸ ë¬¸ì œ

[âœ… í’€ì´]
kê°œì˜ ìˆ˜ë¥¼ íƒí•œ ìƒí™©ì—ì„œ nums[k]ë¥¼ ì •í•˜ëŠ” í•¨ìˆ˜ printSequence(k:) êµ¬í˜„
kê°€ mê³¼ ë™ì¼í•´ì§€ë©´, mê°œì˜ ìˆ˜ë¥¼ ë½‘ì•˜ë‹¤ëŠ” ê²ƒì´ë¯€ë¡œ ì¶œë ¥ í›„ ì¬ê·€í•¨ìˆ˜ ì¢…ë£Œ
ì „ì²´ ìˆ˜ ë²”ìœ„ 1~N ì‚¬ì´ë¥¼ ìˆœíšŒí•˜ë©° íŠ¹ì •í•œ ìˆ˜ê°€ ì•„ì§ ì“°ì´ì§€ ì•Šì•˜ì„ ê²½ìš° nums[k]ì— ì¶”ê°€í•˜ê³  ë°©ë¬¸ í‘œì‹œë¥¼ í•œë‹¤.
íƒˆì¶œ ì¡°ê±´ì„ ë§Œì¡±í•˜ì—¬ returnë˜ë©´, í•´ë‹¹ ìœ„ì¹˜ë¥¼ ë°©ë¬¸í•˜ì§€ ì•Šì•˜ë‹¤ë¡œ ë³€ê²½í•˜ê³ , ë‹¤ìŒ ë°˜ë³µì„ ì´ì–´ê°„ë‹¤.

ex. N=4, M=2
[1, 2] -> [1, 3] -> [1, 4]
[2, 1] -> [2, 3] -> [2, 4]
[3, 1] -> [3, 2] -> [3, 4]
[4, 1] -> [4, 2] -? [4, 3]
*/


let line = readLine()!.split(separator: " ").map { Int($0)! }
let (n, m) = (line[0], line[1])
var nums = Array(repeating: 0, count: 10) // mê°œì˜ ìˆ˜ì—´ì„ ë‹´ì„ ë°°ì—´
var isUsed = Array(repeating: false, count: 10) // íŠ¹ì • ìˆ˜ê°€ ì“°ì˜€ëŠ”ì§€ë¥¼ ì²´í¬í•˜ëŠ” ë°°ì—´
var result = ""

// kê°œì˜ ìˆ˜ë¥¼ íƒí•œ ìƒí™©ì—ì„œ nums[k]ë¥¼ ì •í•˜ëŠ” í•¨ìˆ˜
func printSequence(_ k: Int) {
    if k == m {
        for i in 0..<m {
            result += "\(nums[i]) "
        }
        result += "\n"
        return
    }

    for i in 1...n {
        if !isUsed[i] { // íŠ¹ì • ìˆ˜ê°€ ì•„ì§ ì“°ì´ì§€ ì•Šì•˜ì„ ê²½ìš°
            nums[k] = i
            isUsed[i] = true
            printSequence(k+1)
            isUsed[i] = false
        }
    }
}

printSequence(0) // ìˆ˜ë¥¼ í•˜ë‚˜ë„ íƒí•˜ì§€ ì•Šì•˜ìœ¼ë‹ˆ íŒŒë¼ë¯¸í„°ëŠ” 0
print(result)
