//
//  [ë°±ì¤€ 9663] N-Queen.swift
//  Algorithm
//
//  Created by ê¹€ë¯¼ on 1/26/24.
//
// ë°±ì¤€ 9663 N-Queen https://www.acmicpc.net/problem/9663

/*
[ðŸ“Œ ì „ëžµ]
1. í€¸ì€ ìƒí•˜ì¢Œìš°, ëŒ€ê°ì„ ìœ¼ë¡œ ê³µê²© ê°€ëŠ¥í•˜ë¯€ë¡œ 1ê°œì˜ í–‰ì—ëŠ” 1ê°œì˜ í€¸ë§Œ ë†“ì„ ìˆ˜ ìžˆë‹¤.
2. ê°™ì€ ì—´ì´ê±°ë‚˜, ê°™ì€ ëŒ€ê°ì„ ì— ìžˆëŠ” ìœ„ì¹˜ëŠ” í€¸ì„ ë†“ì„ ìˆ˜ ì—†ë‹¤.
    - â¬‡ï¸: yê°’ì´ ê°™ë‹¤
    - â†˜ï¸: |x-y|ê°€ ê°™ë‹¤ / ex. í€¸ì˜ ìœ„ì¹˜ê°€ (x1, y1), (x2, y2)ì´ë©´ |x1-y1| == |x2-y2|
    - â†™ï¸:  x+yê°€ ê°™ë‹¤ / ex. í€¸ì˜ ìœ„ì¹˜ê°€ (x1, y1), (x2, y2) ì´ë©´ x1+y1 == x2+y2
    - ë‚˜ëŠ” â†˜ï¸â†™ï¸ ëŒ€ê°ì„ ì˜ 2ê°€ì§€ ê²½ìš°ë¥¼ í•¨ê»˜ ê³„ì‚°í•˜ê¸° ìœ„í•´ì„œ x2-x1 == |y2-y1| ì„ ì‚¬ìš©í–ˆë‹¤.
      í–‰ê³¼ í–‰ì˜ ì°¨ì´ì™€ ì—´ê³¼ ì—´ì˜ ì°¨ì´ê°€ ì¼ì¹˜í•˜ë‹¤ëŠ” ì ì´ë‹¤.

[âœ… í’€ì´]
1. curí–‰ì— í€¸ì„ ë†“ëŠ” ìž¬ê·€ í•¨ìˆ˜ placeQueenì„ ì •ì˜
curì´ nì´ ë˜ë©´ return
curí–‰ì˜ ê° ì—´ì„ ìˆœíšŒí•˜ë©°, í•´ë‹¹ ì—´ì— í€¸ì„ ë†“ì„ ìˆ˜ ìžˆëŠ”ì§€ ì—¬ë¶€ í™•ì¸
visited[i] -> iì—´ì— í€¸ì´ ìžˆëŠ”ì§€ì— ëŒ€í•œ ì—¬ë¶€. ìžˆë‹¤ë©´ í€¸ì„ ë†“ì„ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ë‹¤ìŒ ë°˜ë³µë¬¸ìœ¼ë¡œ ë„˜ì–´ê°,
iì—´ì— í€¸ì´ ì—†ë‹¤ë©´, ëŒ€ê°ì„  ì¡°ê±´ë„ ë§Œì¡±í•˜ëŠ”ì§€ì— ëŒ€í•œ isPossible í•¨ìˆ˜ í˜¸ì¶œ

2. isPossibleì€ í€¸ì„ ë†“ì„ ìˆ˜ ìžˆëŠ”ì§€ ì—¬ë¶€ì— ëŒ€í•œ í•¨ìˆ˜
curì˜ ì´ì „ í–‰ë“¤ì„ ìˆœíšŒí•˜ë©° ê°™ì€ ëŒ€ê°ì„ ì— ìžˆëŠ”ì§€ ì²´í¬í•œë‹¤.
ê°™ì€ ëŒ€ê°ì„ ì— ì¡´ìž¬í•œë‹¤ë©´ falseë¥¼, ì¡´ìž¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ trueë¥¼ í˜¸ì¶œí•œë‹¤.

[ðŸ“ ê¸°ë¡]
í•˜ë£¨ë¥¼ ê¼¬ë°• í’€ê³ ë„ í•´ê²°í•˜ì§€ ëª»í•˜ê³  ìžê¾¸ ì‹œê°„ ì´ˆê³¼ê°€ ë– ì„œ ì—¬ëŸ¬ í’€ì´ë¥¼ ì°¸ê³ í–ˆë‹¤... ðŸ’¦
ê°™ì€ ì—´ê³¼ ê°™ì€ ëŒ€ê°ì„  ì—¬ë¶€ë¥¼ í•œë²ˆì— íŒë‹¨í–ˆì—ˆëŠ”ë°, ê°™ì€ ì—´ì¸ì§€ ì²´í¬ í›„ì— ëŒ€ê°ì„  ì—¬ë¶€ë¥¼ í™•ì¸í•˜ë‹ˆ ì‹œê°„ ì´ˆê³¼ë¥¼ í•´ê²°í•  ìˆ˜ ìžˆì—ˆë‹¤.
*/

let n = Int(readLine()!)!
var board = Array(repeating: -1, count: 15) // í•´ë‹¹ í–‰ì˜ í€¸ì˜ ìœ„ì¹˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” í•¨ìˆ˜
var visited = Array(repeating: false, count: 15) // í•´ë‹¹ ì—´ì— í€¸ì´ ìžˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” í•¨ìˆ˜
var result = 0 // ê²°ê³¼ ì¶œë ¥ ë³€ìˆ˜

// í€¸ì„ ë†“ì„ ìˆ˜ ìžˆëŠ”ì§€ ì—¬ë¶€ì— ëŒ€í•œ í•¨ìˆ˜
func isPossible(_ cur: Int) -> Bool {
    for j in 0..<cur { // cur ì´ì „ í–‰ë“¤ì„ ëŒë©°
        if cur - j == abs(board[cur] - board[j]) { // ê°™ì€ ëŒ€ê°ì„ ì— ìžˆë‹¤ë©´
            return false
        }
    }
    return true
}

// curí–‰ì— í€¸ì„ ë†“ëŠ” í•¨ìˆ˜
func placeQueen(_ cur: Int) {
    if cur == n { // nì´ ë˜ë©´ return
        result += 1
        return
    }

    for i in 0..<n { // curí–‰ì˜ ê° ì—´ì„ ìˆœíšŒ
        if visited[i] { continue } // í•´ë‹¹ iì—´ì— í€¸ì´ ì—†ë‹¤ë©´
        board[cur] = i // curí–‰ iì—´ì— í€¸ì„ ë†“ê² ë‹¤ëŠ” í‘œì‹œ

        if isPossible(cur) { // ë†“ì„ ìˆ˜ ìžˆë‹¤ê³  íŒë‹¨ë˜ë©´
            visited[i] = true
            placeQueen(cur+1) // ë‹¤ìŒ í–‰ì— í€¸ì„ ë†“ê¸°
            visited[i] = false
        }
    }
}

placeQueen(0)
print(result)
