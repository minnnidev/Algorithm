//
//  [ë°±ì¤€ 12015] ê°€ì¥ ê¸´ ì¦ê°€í•˜ëŠ” ë¶€ë¶„ ìˆ˜ì—´2.swift
//  Algorithm
//
//  Created by ê¹€ë¯¼ on 5/7/24.
//
// ë°±ì¤€ 12015 ê°€ì¥ ê¸´ ì¦ê°€í•˜ëŠ” ë¶€ë¶„ ìˆ˜ì—´2 https://www.acmicpc.net/problem/12015

/*
[ğŸ“Œ ì „ëµ]
 dpë¡œëŠ” ì‹œê°„ ì´ˆê³¼ë¡œ í’€ ìˆ˜ ì—†ë‹¤. ì´ë¶„ íƒìƒ‰ìœ¼ë¡œ í’€ì´ ê°€ëŠ¥.

[âœ… í’€ì´]
 1. ê°€ì¥ ê¸´ ì¦ê°€í•˜ëŠ” ë¶€ë¶„ìˆ˜ì—´ì„ ì €ì¥í•  seq ë°°ì—´ ë§Œë“¤ê¸°
 2. ì…ë ¥ë°›ì€ ìˆ˜ì—´ì„ ìˆœíšŒí•œë‹¤.
    - ìš”ì†Œê°€ seq ë°°ì—´ì˜ ë§ˆì§€ë§‰ë³´ë‹¤ í° ìˆ˜ë¼ë©´ ì¦ê°€í•˜ëŠ” ë¶€ë¶„ ìˆ˜ì—´ì´ë‹¤. seq ë°°ì—´ì— appendí•œë‹¤.
    - ìš”ì†Œê°€ seq ë°°ì—´ì˜ ë§ˆì§€ë§‰ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì€ ìˆ˜ë¼ë©´ seq ë°°ì—´ì—ì„œ ì´ë¶„ íƒìƒ‰ì„ ìˆ˜í–‰í•˜ì—¬ ì•Œë§ê²Œ replaceí•  ìë¦¬ë¥¼ ì°¾ëŠ”ë‹¤.

[ğŸ“ ê¸°ë¡]
 ì´ë¶„ íƒìƒ‰ì€ ì •ë ¬ì´ í•„ìˆ˜ì ì¸ë°? ì—¬ê¸°ì„œ ì´ë¶„ íƒìƒ‰ì„ ì–´ë–»ê²Œ ì‚¬ìš©í•´ì•¼ í•˜ì§€? ë¼ë©° ì…ë ¥ë°›ì€ ë°°ì—´ì—ì„œë§Œ ì•Œê³ ë¦¬ì¦˜ì„ ì ìš©í•˜ë ¤ í•˜ì˜€ì–´ì„œ ì˜¤ë«ë™ì•ˆ í’€ì´ë¥¼ í•˜ì§€ ëª»í–ˆë˜ ë¬¸ì œì˜€ë‹¤.
*/

let n = Int(readLine()!)!
let nums = readLine()!.split(separator: " ").map { Int($0)! }
var seq = [0] // ì‰¬ìš´ ë¹„êµë¥¼ ìœ„í•´ ë¯¸ë¦¬ 0 ì¶”ê°€

// ì´ë¶„ íƒìƒ‰ì„ í†µí•´ ì•Œë§ì€ ì¸ë±ìŠ¤ë¥¼ ë¦¬í„´
func getIndex(_ num: Int) -> Int {
    var st = 0
    var en = seq.count-1

    while st <= en {
        let mid = (st+en)/2

        if num == seq[mid] {
            return mid
        } else if num > seq[mid] {
            st = mid + 1
        } else {
            en = mid - 1
        }
    }

    return st
}

for num in nums {
    if num > seq.last! { // numì´ í´ ê²½ìš° ì¦ê°€í•˜ëŠ” ë¶€ë¶„ ìˆ˜ì—´ì— ì¶”ê°€
        seq.append(num)
    } else { // ì´ì™¸ì˜ ê²½ìš°ì—ëŠ” êµì²´
        let idx = getIndex(num)
        seq[idx] = num
    }
}

print(seq.count-1) // 0ì„ ì œì™¸í•œ ê°œìˆ˜ ì¶œë ¥
