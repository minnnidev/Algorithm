//
//  [ë°±ì¤€ 14002] ê°€ì¥ ê¸´ ì¦ê°€í•˜ëŠ” ë¶€ë¶„ ìˆ˜ì—´ 4.swift
//  Algorithm
//
//  Created by ê¹€ë¯¼ on 5/23/24.
//
// ë°±ì¤€ 14002 ê°€ì¥ ê¸´ ì¦ê°€í•˜ëŠ” ë¶€ë¶„ ìˆ˜ì—´ 4 https://www.acmicpc.net/problem/14002

/*
[ğŸ“Œ ì „ëµ]
 ê°€ì¥ ê¸´ ì¦ê°€í•˜ëŠ” ë¶€ë¶„ ìˆ˜ì—´ ê¸¸ì´ë¥¼ êµ¬í•˜ê³ , ê·¸ ë¶€ë¶„ ìˆ˜ì—´ì„ ì§ì ‘ ì¶œë ¥í•˜ëŠ” ë¬¸ì œ
 ê°€ì¥ ê¸´ ì¦ê°€í•˜ëŠ” ë¶€ë¶„ ìˆ˜ì—´ì€ DPë¡œ í’€ì´ ê°€ëŠ¥

[âœ… í’€ì´]
 1. ê°€ì¥ ê¸´ ì¦ê°€í•˜ëŠ” ë¶€ë¶„ ìˆ˜ì—´ ê¸¸ì´ë¥¼ êµ¬í•˜ê¸°
    dp ë°°ì—´ì€ í˜„ì¬ ìˆ˜ë¥¼ í¬í•¨í•˜ëŠ” ê°€ì¥ ê¸´ ì¦ê°€í•˜ëŠ” ë¶€ë¶„ ìˆ˜ì—´ì˜ ê¸¸ì´ë¡œ ì •ì˜
    ìˆ˜ì—´ Aì˜ ìˆ˜ë¥¼ ìˆœíšŒí•˜ë©´ì„œ, í•´ë‹¹ ìˆ˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì•ì˜ ìˆ˜ì—´ì—ì„œ í•´ë‹¹ ìˆ˜ë³´ë‹¤ ì‘ì€ ìˆ˜ë“¤ì„ ì°¾ëŠ”ë‹¤.
    ì´ ì‘ì€ ìˆ˜ë“¤ ì¤‘ dp ê°’ì´ ê°€ì¥ í° ê°’ì„ ì°¾ì•„ ê¸°ì¤€ ìˆ˜ì˜ dp ê°’ì„ ë”í•´ì£¼ë©´,
    í•´ë‹¹ ìˆ˜ê¹Œì§€ì˜ ê°€ì¥ ê¸´ ì¦ê°€í•˜ëŠ” ë¶€ë¶„ ìˆ˜ì—´ì˜ ê¸¸ì´ë¥¼ êµ¬í•  ìˆ˜ ìˆë‹¤.
 2. ê°€ì¥ ê¸´ ì¦ê°€í•˜ëŠ” ë¶€ë¶„ ìˆ˜ì—´ ì¶œë ¥í•˜ê¸°
    ê°€ì¥ í° dpê°’ë¶€í„° ì‹œì‘í•˜ì—¬ ìˆœì„œëŒ€ë¡œ 1ê¹Œì§€ ì°¾ì•„ê°„ë‹¤.
    dpì˜ maxê°’ì´ 5ì´ë©´ 5->4->3->2->1 ìˆœìœ¼ë¡œ ì°¾ì•„ê°„ë‹¤. (ì •ë‹µ ìˆ˜ì—´ì´ ì—¬ëŸ¬ê°€ì§€ì´ë©´ ì•„ë¬´ê±°ë‚˜ ì¶œë ¥í•˜ë©´ ë˜ë¯€ë¡œ)
    í›„ì— ë°°ì—´ì„ ë’¤ì§‘ì–´ì„œ ì¶œë ¥í•œë‹¤.
*/

let n = Int(readLine()!)!
let nums = readLine()!.split(separator: " ").map { Int($0)! }
var dp = Array(repeating: 1, count: n)

for i in 0..<n {
    if i == 0 {
        dp[0] = 1
        continue
    }

    var mx = 0
    for j in 0..<i {
        if nums[j] < nums[i] {
            mx = max(mx, dp[j])
        }
    }
    dp[i] += mx
}

var mx = dp.max()!
var answer = [Int]()
var idx = n-1

while mx > 0  {
    if dp[idx] == mx {
        answer.append(nums[idx])
        mx -= 1
    }
    idx -= 1
}

print(dp.max()!)
print(answer.reversed().map { "\($0)" }.joined(separator: " "))
