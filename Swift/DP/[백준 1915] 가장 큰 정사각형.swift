//
//  [ë°±ì¤€ 1915] ê°€ì¥ í° ì •ì‚¬ê°í˜•.swift
//  Algorithm
//
//  Created by ê¹€ë¯¼ on 2/28/24.
//
// ë°±ì¤€ 1915 ê°€ì¥ í° ì •ì‚¬ê°í˜• https://www.acmicpc.net/problem/1915

/*
[ğŸ“Œ ì „ëµ]
ëª¨ë“  ì ë“¤ì„ ëŒë©° ê°€ì¥ ê¸´ ë³€ì„ ê°€ì§„ ì •ì‚¬ê°í˜•ì„ íƒìƒ‰í•œë‹¤ê³  í–ˆì„ ë•Œ,
ìµœì•…ì˜ ê²½ìš°ëŠ” ëª¨ë“  ì ë“¤ì„ ìˆœíšŒ O(n^2), ê° ì ì—ì„œ ëê¹Œì§€ ìˆœíšŒ O(n) ì´ O(n^3)
nê³¼ mì˜ ë²”ìœ„ê°€ 1 â‰¤ n, m â‰¤ 1,000 ì´ë¯€ë¡œ ì™„ì „ íƒìƒ‰ ì•Œê³ ë¦¬ì¦˜ì€ ì‹œê°„ ì´ˆê³¼ê°€ ë°œìƒí•œë‹¤.

ë”°ë¼ì„œ dpë¡œ í’€ì´í•´ ë³´ì.
dp[i][j]ëŠ” (i, j) ì¢Œí‘œê°€ ì •ì‚¬ê°í˜•ì˜ ê°€ì¥ ì˜¤ë¥¸ìª½ ë°‘ ì¢Œí‘œì¼ ë•Œ ì •ì‚¬ê°í˜•ì˜ ìµœëŒ€ ê¸¸ì´ì´ë‹¤.

(i, j)ëŠ” ë§Œë“¤ ìˆ˜ ìˆëŠ” ì •ì‚¬ê°í˜•ì˜ ê°€ì¥ ì˜¤ë¥¸ìª½ ë° ì‚¬ê°í˜•ì´ë¯€ë¡œ,
dp[i][j]ëŠ” í•´ë‹¹ ì¢Œí‘œì˜ ì™¼ìª½(dp[i][j-1]), ìœ„ìª½(dp[i-1][j]), ì™¼ìª½ ëŒ€ê°ì„ (dp[i-1][j-1])ì˜ ì˜í–¥ì„ ë°›ëŠ”ë‹¤.
í•˜ë‚˜ë¼ë„ dp ê°’ì´ 0ì´ë¼ë©´ 1,
ì„¸ ì¢Œí‘œê°€ ëª¨ë‘ ê°™ì•„ ì •ì‚¬ê°í˜•ì„ ì„¸ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤ë©´ ì„¸ ì¢Œí‘œì˜ dp ê°’ + 1,
ì„¸ ì¢Œí‘œê°€ ë‹¤ë¥¼ ë•Œë„ ë³€ì˜ ê¸¸ì´ê°€ ê°€ì¥ ì‘ì€ ì‚¬ê°í˜•ì˜ ì˜í–¥ì„ ë°›ì•„ min(ì„¸ ì¢Œí‘œì˜ dp ê°’) + 1,
ì´ë¥¼ ëª¨ë‘ í•©ì¹œ ì í™”ì‹ì€ dp[i][j] = min(dp[i-1][j], dp[i][j-1], dp[i-1][j-1]) + 1 ì´ë‹¤.
*/

let line = readLine()!.split(separator: " ").map { Int($0)! }
let (n, m) = (line[0], line[1])
var nums = Array(repeating: Array(repeating: 0, count: 1003), count: 1003)
var dp = Array(repeating: Array(repeating: 0, count: 1003), count: 1003)

for i in 1...n { // ì‰¬ìš´ ì¸ë±ìŠ¤ ì²˜ë¦¬ë¥¼ ìœ„í•´ ê° í–‰ì˜ 1ì—´ë¶€í„° ë°°ì—´ ì‹œì‘
    nums[i] = [0] + readLine()!.map { Int(String($0))!}
}

for i in 1...n {
    for j in 1...m {
        guard nums[i][j] == 1 else { continue }
        dp[i][j] = min(dp[i-1][j], dp[i][j-1], dp[i-1][j-1]) + 1
    }
}

let k = dp.flatMap { $0 }.max()!
print(k*k)
