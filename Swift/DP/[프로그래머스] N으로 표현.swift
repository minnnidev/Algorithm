//
//  [í”„ë¡œê·¸ë˜ë¨¸ìŠ¤] Nìœ¼ë¡œ í‘œí˜„.swift
//  Algorithm
//
//  Created by ê¹€ë¯¼ on 10/24/24.
//
// í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ Nìœ¼ë¡œ í‘œí˜„ https://school.programmers.co.kr/learn/courses/30/lessons/42895

/*
[ğŸ“Œ ì „ëµ]
 dp[k] -> kê°œì˜ Nìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ìˆ«ìë“¤
 ì´ì „ ê°’ì„ ì‚¬ìš©í•´ì„œ dp[k]ë¥¼ êµ¬í•˜ëŠ” ë°©ì‹ì´ë¯€ë¡œ dpë¡œ ì ‘ê·¼
 dp í…Œì´ë¸”ì„ ì–´ë–»ê²Œ ì •ì˜í• ì§€ë¥¼ ê²°ì •í•˜ëŠ” ê²Œ í¬ì¸íŠ¸ ê°™ìŒ

[âœ… í’€ì´]
 dp[k] -> kê°œì˜ Nìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ìˆ«ìë“¤

 TC1. N = 5, number = 12

 <5ë¥¼ 1ë²ˆ ì‚¬ìš©í•´ì„œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ìˆ«ìë“¤>
 5

 <5ë¥¼ 2ë²ˆ ì‚¬ìš©>
 55
 5+5 / 5-5 / 5/5 / 5*5

 <5ë¥¼ 3ë²ˆ ì‚¬ìš©>
 555
 (5+5)+5 / ... / (5+5)*5
 (5-5)+5 / ... / (5-5)*5
 (5/5)+5 / ... / (5/5)*5
 (5*5)+5 / ... / (5*5)*5
 5+(5+5) / ... / 5*(5+5)
 5+(5-5) / ... / 5*(5-5)
 5+(5/5) / ... / 5*(5/5)
 5+(5*5) / ... / 5*(5*5)
-> 5/(5-5) ì™€ (5-5)/5 ì²˜ëŸ¼ ìˆœì„œê°€ ë°”ë€Œì—ˆì„ ë•Œ ê°’ì´ ë‹¤ë¥¸ ê²½ìš°ë„ ìˆìœ¼ë¯€ë¡œ, ìˆœì„œì— ë”°ë¼ ëª¨ë“  ê²½ìš°ë¥¼ ê³ ë ¤í•´ ì£¼ê¸°

 ...

 dp[k] = dp[i] + dp[j] (ë‹¨, i+j = k)

 1. ìµœì†Ÿê°’ì´ 8ë³´ë‹¤ í¬ë©´ -1ì„ returní•˜ë¯€ë¡œ dp[1] ~ d[8]ê¹Œì§€ë§Œ êµ¬í•´ì¤„ ê²ƒ
 2. ì¤‘ë³µê°’ë“¤ì´ ìƒê¸°ê¸° ë•Œë¬¸ì— íš¨ìœ¨ì ì¸ ì²˜ë¦¬ë¥¼ ìœ„í•´ dpì˜ ê° ìš”ì†Œë“¤ì€ setìœ¼ë¡œ ê´€ë¦¬í•œë‹¤
 3. 5, 55, 555ì™€ ê°™ì€ ì—°ì†ì ì¸ ìˆ˜ë¥¼ ë¨¼ì € ê° dpì— ë„£ì–´ì¤€ë‹¤
 4. 1...8 ë²”ìœ„ë¥¼ ìˆœíšŒí•˜ë©° k ê°’ì„ ì§€ì •í•˜ê³  i+jê°€ kê°€ ë˜ëŠ” ê²½ìš°ë“¤ ìˆœíšŒ
    - ê° ì‚¬ì¹™ì—°ì‚°ì„ í•œ ê°’ì„ insertë¡œ setì— ë„£ëŠ”ë‹¤.
    - ì´ë•Œ, ë‚˜ëˆ„ê¸°ì˜ ê²½ìš° ë¶€ëª¨ê°€ 0ì´ ë˜ëŠ” ê²½ìš°ëŠ” ì œì™¸í•˜ê¸° ìœ„í•´ ë”°ë¡œ ì²˜ë¦¬ë¥¼ í•´ ì¤€ë‹¤
 5. dp ë°°ì—´ì„ ìˆœíšŒí•˜ë©° ê° ìš”ì†Œë“¤ ì¤‘ number ê°’ê³¼ ë™ì¼í•œ ê°’ì´ ìˆëŠ”ì§€ ì°¾ê³ , ìˆë‹¤ë©´ indexë¥¼ return (dp[k] = kê°œì˜ Nìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ìˆ«ìë“¤ì´ê¸° ë•Œë¬¸), ì—†ë‹¤ë©´ -1 return

[ğŸ“ ê¸°ë¡]
 dp í…Œì´ë¸”ì„ ì–´ë–»ê²Œ ì •ì˜í• ì§€ë¥¼ ë‹¤ì–‘í•˜ê²Œ ìƒê°í•´ ë³¼ ê²ƒ
*/

func solution(_ N:Int, _ number:Int) -> Int {
    var dp = Array(repeating: Set<Int>(), count: 9)

    var tmp = 0
    for i in 1...8 {
        tmp = tmp*10 + N
        dp[i].insert(tmp)
    }

    for k in 1...8 {
        for i in 1..<k {
            for j in 1..<k {
                if (i+j) != k { continue }

                for a in dp[i] {
                    for b in dp[j] {
                        dp[k].insert(a+b)

                        dp[k].insert(a-b)

                        if b != 0 { dp[k].insert(a/b) }

                        dp[k].insert(a*b)
                    }
                }
            }
        }
    }

    for (idx, nums) in dp.enumerated() {
        for num in nums {
            if num == number {
                return idx
            }
        }
    }

    return -1
}
