//
//  [í”„ë¡œê·¸ë˜ë¨¸ìŠ¤] ê°€ì¥ ë¨¼ ë…¸ë“œ.swift
//  Algorithm
//
//  Created by ê¹€ë¯¼ on 9/26/24.
//
// í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ ê°€ì¥ ë¨¼ ë…¸ë“œ https://school.programmers.co.kr/learn/courses/30/lessons/49189

/*
[ğŸ“Œ ì „ëµ]
 ìµœë‹¨ ê²½ë¡œë¡œ ì´ë™í–ˆì„ ë•Œì˜ ê°„ì„  ê°œìˆ˜ë¥¼ êµ¬í•˜ê¸°
 -> ê·¸ë˜í”„ë¥¼ ìƒìƒí•´ ë³´ê³ , bfsë¡œ ì°¨ë ˆë¡œ íƒìƒ‰í•´ ë‚˜ê°€ì„œ ë‹µì„ êµ¬í•  ìˆ˜ ìˆìŒì„ ì¸ì§€

[âœ… í’€ì´]
 1. ì¸ì ‘ ë…¸ë“œë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê·¸ë˜í”„ g ë°°ì—´ ìƒì„±, ans ë°°ì—´ ìƒì„±
    - g[a]ëŠ” ë…¸ë“œaì˜ ì¸ì ‘ ë…¸ë“œë¥¼ ì €ì¥í•œ ë°°ì—´
    - ans[a]ëŠ” 1ë¶€í„° ë…¸ë“œ aê¹Œì§€ ê°„ì„  ê°œìˆ˜
    - ans ìš”ì†Œë“¤ì˜ ì´ˆê¹ƒê°’ì€ -1ë¡œ ì„¤ì •
 2. bfs íƒìƒ‰ ì‹¤ì‹œ
    - ë…¸ë“œ1ë¶€í„° ê°€ì¥ ë¨¼ ë…¸ë“œë¥¼ êµ¬í•˜ëŠ” ê²ƒì´ë¯€ë¡œ íì— 1 ë„£ìŒ, ans[1] = 0ë¡œ ì„¤ì • -> -1ê³¼ êµ¬ë¶„í•˜ì—¬ ë°©ë¬¸í–ˆìŒì„ ë‚˜íƒ€ëƒ„
    - íê°€ ë¹Œ ë•Œê¹Œì§€ ê³„ì†í•´ì„œ íƒìƒ‰
    - ê°€ì¥ ì• ìš”ì†Œ(cur)ë¥¼ dequeueí•˜ì—¬ ë…¸ë“œcurì˜ ì¸ì ‘ ë…¸ë“œ(nxt) ìˆœíšŒ
    - ans[nxt]ê°€ 0ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ìœ¼ë©´ ë°©ë¬¸í•œ ë…¸ë“œì´ë¯€ë¡œ continue
    - ans[nxt]ê°€ -1ë¡œ ì•„ì§ ë°©ë¬¸í•˜ì§€ ì•Šì€ ë…¸ë“œì´ë©´, ans[nxt]ì˜ ê°’ì„ ans[cur]+1 í•˜ì—¬ ê°„ì„  ê°œìˆ˜ê°€ 1ê°œ ëŠ˜ì–´ë‚¨ì„ í‘œì‹œ
    - íì— ë…¸ë“œnxtë¥¼ appendí•˜ì—¬ ë‹¤ì‹œ íƒìƒ‰ ì‹¤ì‹œ
 3. ê°€ì¥ ë¨¼ ë…¸ë“œ êµ¬í•˜ê¸°
    - bfs íƒìƒ‰ì„ ë§ˆì¹œ í›„, ansì˜ max ê°’ì„ ì°¾ìŒ
    - ans ì¤‘ì— max ê°’ì„ ê°€ì§€ëŠ” ìš”ì†Œì˜ ê°œìˆ˜ë¥¼ ì¶œë ¥
*/

var ans = [Int]()
var g = [[Int]]()

// ë…¸ë“œ 1ì„ ê¸°ì¤€ìœ¼ë¡œ bfs ì‹¤ì‹œ
func bfs() {
    var q = [1]
    ans[1] = 0

    while !q.isEmpty {
        let cur = q.removeFirst()

        for nxt in g[cur] {
            if ans[nxt] >= 0 { continue }

            ans[nxt] = ans[cur] + 1
            q.append(nxt)
        }
    }
}

func solution(_ n:Int, _ edge:[[Int]]) -> Int {
    g = Array(repeating: [Int](), count: n+3)
    ans = Array(repeating: -1, count: n+3)

    // ì¸ì ‘í•œ ë…¸ë“œ í‘œí˜„í•˜ëŠ” ê·¸ë˜í”„ ìƒì„±
    for ed in edge {
        let (u, v) = (ed[0], ed[1])
        g[u].append(v)
        g[v].append(u)
    }

    // bfs íƒìƒ‰
    bfs()

    // max ê°’ì„ êµ¬í•˜ê³ , maxê°’ê³¼ ë™ì¼í•œ ìš”ì†Œì˜ ê°œìˆ˜ë¥¼ ë°˜í™˜
    var mx = ans.max()!
    var cnt = 0

    ans.forEach {
        if $0 == mx { cnt += 1 }
    }

    return cnt
}
