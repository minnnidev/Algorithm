//
//  [ë°±ì¤€ 1593] ë¬¸ìž í•´ë….swift
//  Algorithm
//
//  Created by ê¹€ë¯¼ on 10/9/24.
//
// ë°±ì¤€ 1593 ë¬¸ìž í•´ë… https://www.acmicpc.net/problem/1593

/*
[ðŸ“Œ ì „ëžµ]
 wì˜ ëª¨ë“  ìˆœì—´ì„ sì—ì„œ ì°¾ì•„ì•¼ í•˜ì§€ë§Œ, ì´ì¤‘ forë¬¸ìœ¼ë¡œ ì°¾ì„ ì‹œ ì‹œê°„ ì´ˆê³¼
 í¬ê¸°ê°€ wì˜ ê¸¸ì´ë¡œ ê³ ì •ë˜ì–´ ìžˆìœ¼ë‹ˆ, ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ë¡œ í’€ì´

 wê°€ sì— í¬í•¨ë˜ëŠ” ë¶€ë¶„ ë¬¸ìžì—´ì´ë¼ëŠ” ê²ƒì€ ì–´ë–»ê²Œ íŒë‹¨í•  ìˆ˜ ìžˆì„ê¹Œ?
 wArr ì„ ì–¸ - wì— í¬í•¨ë˜ì–´ ìžˆëŠ” A~Z, a~zì˜ ë¬¸ìž ê°œìˆ˜ë¥¼ í‘œí˜„í•˜ëŠ” ë°°ì—´. ì¸ë±ìŠ¤ê°€ ê° ë¬¸ìžì˜ ì•„ìŠ¤í‚¤ì½”ë“œ, ê° ì¸ë±ìŠ¤ì˜ ìš”ì†ŒëŠ” í•´ë‹¹ ë¬¸ìžì˜ ê°œìˆ˜
 sArr ì„ ì–¸ - sì˜ wê¸¸ì´ë§Œí¼ì˜ ë¶€ë¶„ ìˆ˜ì—´ì˜ A~Z, a~zì˜ ë¬¸ìž ê°œìˆ˜ë¥¼ í‘œí˜„í•˜ëŠ” ë°°ì—´. (ìœ„ì™€ ê°™ì€ ë¡œì§)
 ì´ 2ê°œì˜ ë°°ì—´ì´ ê°™ì•„ì§€ë©´, wê°€ sì˜ ë¶€ë¶„ ë¬¸ìžì—´ë¡œ ì†í•œë‹¤ëŠ” ëœ»

[âœ… í’€ì´]
 1. wArr, sArrì„ ì–¸
 2. setAscii í•¨ìˆ˜ ì„ ì–¸
    - ê° ë¬¸ìžì˜ ê°œìˆ˜ë¥¼ ì„¸ì–´ ì•Œë§žì€ ë°°ì—´ì— ì¶”ê°€í•´ ì¤Œ.
    - inoutì„ ì‚¬ìš©í•˜ì—¬ wArr, sArrì—ì„œ ë™ì‹œì— ì‚¬ìš©í•  ìˆ˜ ìžˆë„ë¡ í•¨
    - ëŒ€ë¬¸ìžì¼ ë•ŒëŠ” ì•„ìŠ¤í‚¤ì½”ë“œê°’ì—ì„œ 65(Aì˜ ì•„ìŠ¤í‚¤ì½”ë“œ)ë¥¼ ë¹¼ê³ , ì†Œë¬¸ìžì¼ ë•ŒëŠ” 97(aì˜ ì•„ìŠ¤í‚¤ì½”ë“œ)ì„ ëº€ í›„ 26ì„ ë”í•´ ì£¼ì–´, ëŒ€ë¬¸ìž & ì†Œë¬¸ìž ëª¨ë‘ë¥¼ í•œ ë°°ì—´ì— í‘œí˜„
 3. wArrì˜ ë¬¸ìž íŒŒì•…
 4. ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ë¥¼ ì‚¬ìš©í•˜ì—¬ wê°€ sì— ì†í•˜ëŠ”ì§€ íŒŒì•…í•˜ê¸°
    - size: ìŠ¬ë¼ì´ë”© ìœˆë„ìš° ê¸¸ì´
    - start: ìœˆë„ìš°ì˜ ì²« ë²ˆì§¸ ì¸ë±ìŠ¤
             ë°˜ë³µë¬¸ì´ ìˆ˜í–‰ë  ë•Œë§ˆë‹¤ startë¥¼ 1 ë”í•´ì£¼ì–´, ìŠ¬ë¼ì´ë”©ì´ ì¼ì–´ë‚¬ìŒì„ ë‚˜íƒ€ëƒ„
    - sizeê°€ wì˜ ê¸¸ì´ì™€ ê°™ì•„ì§€ë©´, wArrê³¼ sArrì´ ê°™ì€ì§€ íŒŒì•…í•˜ê³ , ê°™ì„ ì‹œ ans ê°±ì‹ .
      startë¥¼ 1 ëŠ˜ë ¤ì£¼ê³ , sizeë¥¼ 1 ë¹¼ì£¼ì–´ ë‹¤ìŒ ìŠ¬ë¼ì´ë”©ì´ ì¼ì–´ë‚¬ì„ ë•Œë¥¼ ìœ„í•œ ëŒ€ë¹„
*/

let line = readLine()!.split(separator: " ").map { Int($0)! }
let (wCnt, gCnt) = (line[0], line[1])
let w = readLine()!.map { $0 }
let s = readLine()!.map { $0 }

var wArr = Array(repeating: 0, count: 52)
var sArr = Array(repeating: 0, count: 52)

func setAscii(ch: Character, arr: inout [Int], diff: Int) {
    let ascii = Int(ch.asciiValue!)

    if ch >= Character("a") && ch <= Character("z") {
        arr[ascii-97 + 26] += diff
    } else {
        arr[ascii-65] += diff
    }
}

for i in 0..<wCnt {
    // a: 97, A: 65
    setAscii(ch: w[i], arr: &wArr, diff: 1)
}

var size = 0
var ans = 0
var start = 0

for i in 0..<gCnt {
    let ch = s[i]
    setAscii(ch: ch, arr: &sArr, diff: 1)
    size += 1

    if size == wCnt {
        if wArr == sArr { ans += 1 }
        setAscii(ch: s[start], arr: &sArr, diff: -1)
        start += 1
        size -= 1
    }
}

print(ans)
